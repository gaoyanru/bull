<div class="m-applyInvoice">
    <div class="panel panel-primary">
        <div class="panel-heading">发票申请</div>
        <div class="panel-body">
            <form class="form-horizontal" name="applyForm" ng-submit="apply()">
                <div class="form-group">
                    <label class="col-sm-2 control-label"><span class="text-danger">*</span>发票抬头</label>
                    <div class="col-sm-7">
                        <input type="text" name="title" required ng-maxlength="40" class="form-control"  ng-model="applyParams.Title">
                    </div>
                    <div class="col-sm-3">
                        <div class="text-danger" ng-messages="applyForm.title.$error" ng-if="applyForm.title.$dirty">
                            <span ng-message="required">
                                请输入发票台头
                            </span>
                            <span ng-message="maxlength">
                                最大长度为40
                            </span>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label  class="col-sm-2 control-label"><span class="text-danger">*</span>发票性质</label>
                    <div class="col-sm-7">
                        <select class="form-control"  ng-model="selectedProp" ng-options="prop.name for prop in propertyModel ">
                        </select>
                    </div>
                    <div class="col-sm-3">
                    </div>
                </div>

                <div class="form-group">
                    <label  class="col-sm-2 control-label"><span class="text-danger">*</span>发票类型</label>
                    <div class="col-sm-7">
                        <select class="form-control"  ng-model="selectedCate" ng-options="cate.name for cate in categoryModel ">
                        </select>
                    </div>
                    <div class="col-sm-3">
                    </div>
                </div>
                <div class="form-group" ng-if="selectedCate.category == 1">
                    <label class="col-sm-2 control-label"><span class="text-danger">*</span>开户银行</label>
                    <div class="col-sm-7">
                        <input type="text" required name="BankNo" placeholder="请填写开户行分行支行" class="form-control"  ng-model="applyParams.DepositBank">
                    </div>
                </div>
                <div class="form-group" ng-if="selectedCate.category == 1">
                    <label class="col-sm-2 control-label"><span class="text-danger">*</span>对公账号</label>
                    <div class="col-sm-7">
                        <input type="text" required name="BankNo"   class="form-control"  ng-model="applyParams.BankNo">
                    </div>
                </div>
                <div class="form-group">
                    <label  class="col-sm-2 control-label"><span class="text-danger">*</span>发票项目</label>
                    <div class="col-sm-7">
                        <select class="form-control"  ng-model="selectedProject" ng-options="project.Value for project in projectModel ">
                        </select>
                    </div>
                    <div class="col-sm-3">
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-2 control-label"><span class="text-danger">*</span>税号</label>
                    <div class="col-sm-7">
                        <input type="text" required name="InvoiceNumber"  maxlength="20" class="form-control"  ng-model="applyParams.InvoiceNumber">
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-2 control-label"><span class="text-danger">*</span>发票金额</label>
                    <div class="col-sm-7">
                        <input type="text" name="amount" readonly  class="form-control"  ng-model="applyParams.Amount">
                    </div>
                    <div class="col-sm-3">
                        <a href="javascript:;" class="btn btn-link"  ng-click="selectOrder()" style="padding: 6px;margin-left: -12px;">选择订单</a>
                    </div>
                </div>

                <div class="form-group">
                    <label  class="col-sm-2 control-label"><span class="text-danger">*</span>收件地址</label>
                    <div class="col-sm-7">
                        <select class="form-control"  required ng-model="selectedAddress" ng-options="address.Address for address in addressModel ">
                        </select>
                    </div>
                    <div class="col-sm-3">
                        <a href="javascript:;" class="btn btn-default" ng-click="addAddress()">+</a>
                    </div>
                </div>

                <div class="form-group">
                    <label  class="col-sm-2 control-label"><span class="text-danger">*</span>申请类型</label>
                    <div class="col-sm-7">
                        <select class="form-control"  ng-model="selectedType" ng-options="type.Value for type in typeModel ">
                        </select>
                    </div>
                    <div class="col-sm-3">
                    </div>
                </div>

                <div class="form-group">
                    <div class="col-sm-offset-2 col-sm-10">
                        <button type="submit" class="btn btn-primary" ng-disabled="applyForm.$invalid">保存</button>
                        <button type="button" class="btn btn-link" ng-click="dismiss();">取消</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
